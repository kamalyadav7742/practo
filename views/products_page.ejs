<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>website name</title>
    <link rel="stylesheet" href="../css/style2.css">
    <style>
        html,
        body {
            overflow-x: hidden;
        }

        .card {
            background-color: white;
            box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.2s ease-in-out;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0px 6px 12px rgba(0, 0, 0, 0.2);
        }

        .card-img-top {
            object-fit: cover;
            height: 192px;
            width: 100%;
        }

        .card__title {
            font-size: 18px;
            font-weight: 600;
            /* margin-top: 1rem; */
            margin-bottom: 0.5rem;
        }

        .card__text {
            font-size: 14px;
            margin-bottom: 0.5rem;
            color: #666;
        }

        .card__price {
            font-size: 16px;
            font-weight: 600;
            color: #ff6b6b;
            margin-bottom: 1rem;
        }

        .add-to-cart {
            font-size: 14px;
            font-weight: 600;
            color: #ff6b6b;
            border-color: #ff6b6b;
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
        }

        .add-to-cart:hover {
            background-color: #ff6b6b;
            color: white;
        }



        @import url(https://fonts.googleapis.com/css?family=Raleway:400,200);

        .body {
            background-color: #eee;

        }

        body {
            overflow-x: hidden;
        }

        .abc a:hover {
            color: lightskyblue;
        }

        .nav-item a {
            color: white;
            font-size: 13px;
            line-height: 20px;
            font-weight: 500;
            letter-spacing: -.3px;
        }

        .dropdown:hover>.dropdown-menu {
            display: block;
        }

        .dropdown>.dropdown-toggle:active {
            pointer-events: none;
        }

        .dropdown a {
            color: black;
            list-style: none;
            text-decoration: none;
            font-size: 15px;
        }

        .dropdown-menu li a {
            font-size: 12px;
            font-weight: 500;
        }

        .sidenav {
            width: 109%;
            border: none;
            float: left;
            margin-left: -12px;
            background-color: #f0f0f5;
        }

        .sidenav a,
        .dropdown-btn {
            padding: 12px 20px 10px 18px;
            text-decoration: none;
            font-size: 20px;
            color: #818181;
            display: block;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
            outline: none;
        }

        .sidenav a {
            color: blue;
        }

        .dropdown-btn:hover {
            color: black;
            border: 2px solid black;
        }

        .sidenav a:hover {
            color: blue;
            border: 1px solid blue;
        }

        .main {
            margin-left: 200px;
            font-size: 20px;
            padding: 0px 10px;
        }

        .active {
            background-color: #f0f0f5;
            color: black;
        }

        .dropdown-container {
            display: none;
            background-color: #f0f0f5;
            padding-left: 8px;
        }

        .fa-caret-down {
            float: right;
            padding-right: 8px;
        }

        @media screen and (max-height: 450px) {
            .sidenav {
                padding-top: 15px;
            }

            .sidenav a {
                font-size: 18px;
            }
        }

        #cssmenu,
        #cssmenu ul,
        #cssmenu ul li,
        #cssmenu ul li a {
            margin: 0;
            padding: 0;
            border: 0;
            list-style: none;
            line-height: 2;
            display: block;
            position: relative;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }

        #cssmenu {
            width: 100%;
            font-family: Raleway, sans-serif;
            color: #ffffff;
        }

        #cssmenu ul ul {
            display: none;

        }

        #cssmenu>ul>li.active>ul {
            display: block;
        }

        .align-right {
            float: right;
        }

        #cssmenu>ul>li>a {
            padding: 16px 22px;
            border: 1px solid gray;
            cursor: pointer;
            z-index: 2;
            font-size: 16px;
            font-weight: 500;
            text-decoration: none;
            color: white;
            background: black;
            -webkit-transition: color .2s ease;
            -o-transition: color .2s ease;
            transition: color .2s ease;
        }

        #cssmenu>ul>li>a:hover {
            color: gray;
        }

        #cssmenu ul>li.has-sub>a:after {
            position: absolute;
            right: 26px;
            top: 19px;
            z-index: 5;
            display: block;
            height: 10px;
            width: 2px;
            background: #ffffff;
            content: "";
            -webkit-transition: all 0.1s ease-out;
            -moz-transition: all 0.1s ease-out;
            -ms-transition: all 0.1s ease-out;
            -o-transition: all 0.1s ease-out;
            transition: all 0.1s ease-out;
        }

        #cssmenu ul>li.has-sub>a:before {
            position: absolute;
            right: 22px;
            top: 23px;
            display: block;
            width: 10px;
            height: 2px;
            background: #ffffff;
            content: "";
            -webkit-transition: all 0.1s ease-out;
            -moz-transition: all 0.1s ease-out;
            -ms-transition: all 0.1s ease-out;
            -o-transition: all 0.1s ease-out;
            transition: all 0.1s ease-out;
        }

        #cssmenu ul>li.has-sub.open>a:after,
        #cssmenu ul>li.has-sub.open>a:before {
            -webkit-transform: rotate(45deg);
            -moz-transform: rotate(45deg);
            -ms-transform: rotate(45deg);
            -o-transform: rotate(45deg);
            transform: rotate(45deg);
        }

        #cssmenu ul ul li a {
            padding: 14px 22px;
            cursor: pointer;
            z-index: 2;
            font-size: 14px;
            text-decoration: none;
            color: #dddddd;
            background: #49505a;
            -webkit-transition: color .2s ease;
            -o-transition: color .2s ease;
            transition: color .2s ease;
        }

        #cssmenu ul ul ul li a {
            padding-left: 32px;
        }

        #cssmenu ul ul li a:hover {
            color: #ffffff;
        }

        #cssmenu ul ul>li.has-sub>a:after {
            top: 16px;
            right: 26px;
            background: #dddddd;
        }

        #cssmenu ul ul>li.has-sub>a:before {
            top: 20px;
            background: #dddddd;
        }

        a {
            text-decoration: none;
        }

        .m-navbar-list {
            box-shadow: 0 6px 5px rgba(0, 0, 0, .035);
            border-bottom: 1px solid #e5e5f1;
        }

        @media only screen and (max-width: 768px) {
            .header__logo input {
             width: 100vw;
            }
        }

        .search-container {
            display: flex;
            align-items: center;
            background-color: white;
            border: 1px solid lightgray;
            border-radius: 5px;
            box-shadow: 0px 4px 4px 0.6px #bbcbd88a;
            padding: 5px;
            width: 500px;
        }

        .search-container input {
            border: none;
            outline: none;
            width: 100%;
            height: 34px;
            padding-left: 10px;
            font-size: 16px;
            color: black;
        }

        .search-container i {
            font-size: 22px;
            color: #14bef0;
            padding: 5.5px;
            border: 1px solid lightgray;
            border-right: none;
            border-radius: 5px 0 0 5px;
        }

        #c {
            background-color: red;
            border-radius: 50%;
            color: white;
            display: inline-block;
            font-size: 12px;
            font-weight: bold;
            height: 18px;
            line-height: 18px;
            margin-left: 1px;
            text-align: center;
            width: 18px;
        }
        @media screen and (max-width: 767px) {
   .header__submenu #toggle-cart-btn {
        margin: auto;
    }
}

.refresh-icon {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 9999;
  cursor: pointer;
  border: 1px solid #007bff;
  border-radius: 50%;
  background-color: #fff;
  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);
  width: 50px;
  height: 50px;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: all 0.3s ease-in-out;
}

.refresh-icon:hover {
  background-color: #007bff;
}

.refresh-icon i {
  font-size: 15px;
  color: #007bff;
  transition: all 0.3s ease-in-out;
}

.refresh-icon:hover i {
  color: #fff;
  transform: rotate(360deg);
}


    </style>
</head>

<body>

    <%-include('./common/header.ejs') %>
    <div class="refresh-icon">
        <i class="fas fa-sync-alt"></i>
    </div>
    <div class="container-fluid m-navbar-list " style="background-color: whitesmoke;">
        <div class="row d-lg-flex d-none">
            <div class="d-flex justify-content-evenly my-3">
                <div class="dropdown">
                    <a class="dropdown-toggle" type="button" id="dropdownMenuButton" data-mdb-toggle="dropdown"
                        aria-expanded="false">
                        All Care
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <li><a class="dropdown-item" href="/products_page/<%= page[0].page %>"><%= page[0].page %></a></li>
                        <li><a class="dropdown-item" href="/products_page/<%= page[1].page %>"><%= page[1].page %></a></li>
                        <li><a class="dropdown-item" href="/products_page/<%= page[2].page %>"><%= page[2].page %></a></li>
                        <li><a class="dropdown-item" href="/products_page/<%= page[3].page %>"><%= page[3].page %></a></li>
                    </ul>
                </div>
                <div class="dropdown">
                    <a class="dropdown-toggle" type="button" id="dropdownMenuButton" data-mdb-toggle="dropdown"
                        aria-expanded="false">
                        Fitness Wellness
                    </a>    
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <li><a class="dropdown-item" href="/products_page/<%= page[4].page %>"><%= page[4].page %></a></li>
                        <li><a class="dropdown-item" href="/products_page/<%= page[5].page %>"><%= page[5].page %></a></li>
                        <li><a class="dropdown-item" href="/products_page/<%= page[6].page %>"><%= page[6].page %></a></li>
                        <li><a class="dropdown-item" href="/products_page/<%= page[7].page %>"><%= page[7].page %></a></li>
                    </ul>
                </div>
                <div class="dropdown">
                    <a class="dropdown-toggle" type="button" id="dropdownMenuButton" data-mdb-toggle="dropdown"
                        aria-expanded="false">
                        Sexual
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <li><a class="dropdown-item" href="/products_page/<%= page[8].page %>"><%= page[8].page %></a></li>
                    </ul>
                </div>
                <div class="dropdown">
                    <a class="dropdown-toggle" type="button" id="dropdownMenuButton" data-mdb-toggle="dropdown"
                        aria-expanded="false">
                        Main Care
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <li><a class="dropdown-item" href="/products_page/<%= page[9].page %>"><%= page[9].page %></a></li>
                        <li><a class="dropdown-item" href="/products_page/<%= page[10].page %>"><%= page[10].page %></a></li>
                        <li><a class="dropdown-item" href="/products_page/<%= page[11].page %>"><%= page[11].page %></a></li>
                    </ul>
                </div>
                <div class="dropdown">
                    <a class="dropdown-toggle" type="button" id="dropdownMenuButton" data-mdb-toggle="dropdown"
                        aria-expanded="false">
                        Child Care
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <li><a class="dropdown-item" href="/products_page/<%= page[12].page %>"><%= page[12].page %></a></li>
                    </ul>
                </div>
                
                <div class="dropdown">
                    <a class="dropdown-toggle" type="button" id="dropdownMenuButton" data-mdb-toggle="dropdown"
                        aria-expanded="false">
                        Other Care
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <li><a class="dropdown-item" href="/products_page/<%= page[13].page %>"><%= page[13].page %></a></li>
                        <li><a class="dropdown-item" href="/products_page/<%= page[14].page %>"><%= page[14].page %></a></li>
                        <li><a class="dropdown-item" href="/products_page/<%= page[15].page %>"><%= page[15].page %></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

        
        <div class="container-fluid" style="position: sticky; top: 0px; z-index: 3; background-color: whitesmoke;;border-bottom: 1px solid lightgray;">
            <header class="header">
                <div class="row justify-content-center">
                    <div class="col-md-9 col-sm-6 d-md-flex d-none">
                        <div class="container header__top">
                            <div class="header__logo">
                                <form class="d-flex mt-2">
                                    <div>
                                        <i class="fa-solid fa-magnifying-glass"
                                            style=" border: 1px solid lightgray; border-right: none; font-size: 22px;padding: 5.5px; box-shadow: 0px 4px 4px 0.6px #bbcbd88a;  color: aqua;"></i>
                                    </div>
                                    <input class="" type="search" name="search" id="search-item"
                                        placeholder="Search for Medicines, Health Products and more"
                                        style="box-shadow: 0px 4px 4px 0.6px #bbcbd88a; width: 400px; height: 34px;border: 1px solid lightgray; border-left: none;">
                                </form>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-3 col-sm-6">
                        <div class="header__cart">
                                    <div class="header__submenu text" id="submenu" style="margin: auto;" >
                                        <button class="header__cart-btn d-flex mb-2 mt-2" style="width: 150px; border: none; outline: none;"
                                            id="toggle-cart-btn">
                                            <svg class="cart" width="24" height="22" viewBox="0 0 25 25">
                                                <path
                                                    d="M17,18C15.89,18 15,18.89 15,20A2,2 0 0,0 17,22A2,2 0 0,0 19,20C19,18.89 18.1,18 17,18M1,2V4H3L6.6,11.59L5.24,14.04C5.09,14.32 5,14.65 5,15A2,2 0 0,0 7,17H19V15H7.42A0.25,0.25 0 0,1 7.17,14.75C7.17,14.7 7.18,14.66 7.2,14.63L8.1,13H15.55C16.3,13 16.96,12.58 17.3,11.97L20.88,5.5C20.95,5.34 21,5.17 21,5A1,1 0 0,0 20,4H5.21L4.27,2M7,18C5.89,18 5,18.89 5,20A2,2 0 0,0 7,22A2,2 0 0,0 9,20C9,18.89 8.1,18 7,18Z">
                                                </path>
                                            </svg>
                                            <sup>
                                                <b id="c"></b>
                                            </sup>
                                            <span class="d-md-flex ps-2"> Your Cart</span>
                                        </button>
                                        <div id="shopping-cart" class="shopping-cart-container">
                                            <table id="cart-content">

                                                <thead>
                                                    <tr>
                                                        <th>Image</th>
                                                        <th>Name</th>
                                                        <th>Price</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                            <p class="total-container" id="total-price"></p>
                                            <a href="/cart" id="checkout-btn" class="cart-btn">Checkout</a>
                                            <a href="#" id="clear-cart" class="cart-btn">Clear Cart</a>
                                        </div>
                                    </div>
                        </div>
                    </div>
                </div>

            </header>
        </div>



        <div class="container-fluid mt-3">
            <div class="row ms-3">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/">Home</a></li>
                        <li class="breadcrumb-item" aria-current="page">
                            <%= result?.[0]?.page ?? 'Unknown' %>
                        </li>
                    </ol>
                </nav>
            </div>
        </div>
        <div class="container-fluid" style="background-color: #f5f2f2;">
            <div class="row">
                <div class="col-md-3" style="background-color: rgb(0,0,0);">
                    <div id='cssmenu'>
                        <ul>
                            <li class="text-center" style="font-weight: 900;">CATEGORIES</li>     
                            <li class='
                                    has-sub'><a href='#'>All Care</a>
                                <ul><li><a href='/products_page/<%= page[0].page %>'><%= page[0].page %></a></li></ul>
                                <ul><li><a href='/products_page/<%= page[1].page %>'><%= page[1].page %></a></li></ul>
                                <ul><li><a href='/products_page/<%= page[2].page %>'><%= page[2].page %></a></li></ul>
                                <ul><li><a href='/products_page/<%= page[3].page %>'><%= page[3].page %></a></li></ul>
                            </li>
                            <li class='has-sub'><a href='#'>Fitness  Wellness</a>
                                <ul>
                                    <li><a href='/products_page/<%= page[4].page %>'><%= page[4].page %></a></li>
                                </ul>
                                <ul>
                                    <li><a href='/products_page/<%= page[5].page %>'><%= page[5].page %></a></li>
                                </ul>
                                <ul>
                                    <li><a href='/products_page/<%= page[6].page %>'><%= page[6].page %></a></li>
                                </ul>
                                <ul>
                                    <li><a href='/products_page/<%= page[7].page %>'><%= page[7].page %></a></li>
                                </ul>
                            </li>
                            <li class='has-sub'><a href='#'>Sexual Wellfare</a>
                                <ul>
                                    <li><a href='/products_page/<%= page[8].page %>'><%= page[8].page %></a></li>
                                </ul>
                            </li>
                            <li class='has-sub'><a href='#'>Main Care</a>
                                <ul>
                                    <li><a href='/products_page/<%= page[9].page %>'><%= page[9].page %></a></li>
                                </ul>
                                <ul>
                                    <li><a href='/products_page/<%= page[10].page %>'><%= page[10].page %></a></li>
                                </ul>
                                <ul>
                                    <li><a href='/products_page/<%= page[11].page %>'><%= page[11].page %></a></li>
                                </ul>
                            </li>
                            
                            <li class='has-sub'><a href='#'>Child Care</a>
                                <ul>
                                    <li><a href='/products_page/<%= page[12].page %>'><%= page[12].page %></a></li>
                                </ul>
                            </li>
                            
                            <li class='has-sub'><a href='#'>Other</a>
                                <ul>
                                    <li><a href='/products_page/<%= page[13].page %>'><%= page[13].page %></a></li>
                                </ul>
                                <ul>
                                    <li><a href='/products_page/<%= page[14].page %>'><%= page[14].page %></a></li>
                                </ul>
                                <ul>
                                    <li><a href='/products_page/<%= page[15].page %>'><%= page[15].page %></a></li>
                                </ul>
                                
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-9">
                    <div class="row">
                        <H1>
                            <%= result[0]?.page || 'not found' %><span style="font-size: 14px;"></span>
                        </H1>
                    </div>

                    <div class="row">
                        <% if(result.length> 0){ %>
                            <% result.forEach(function(item, index){ %>
                                <div class="col-lg-3 col-md-4 col-sm-6 mt-2 mb-2">
                                    <div class="grid" id="grid">
                                        <div class="card" style="height: 364px; border: 1px solid white ;">
                                            <a href="/description/<%= item.name %>/<%= item.page %>"><img
                                                    src="/static/upload/<%= item.filename %>"
                                                    class="card-img-top img-fluid "
                                                    style="height: 192px; width:400px"></a>
                                            <hr>
                                            <h4 class="card__title px-3">
                                                <%= item.name %>
                                            </h4>
                                            <p class="card__text px-3">
                                                <%= item.quantity %>
                                            </p>
                                            <p class="card__price px-3">₹
                                                <%= item.price %>
                                            </p>
                                            <button class="btn btn-outline-danger add-to-cart mx-2"
                                                data-id="<%= item.id+700 %>">Add to
                                                Cart</button>
                                        </div>
                                    </div>
                                </div>
                                <% }); %>
                                    <% } else { %>
                                        no record found
                                        <% } %>
                    </div>
                </div>
            </div>
        </div>
        <%-include('./common/footer.ejs') %>



            <script>
                var dropdown = document.getElementsByClassName("dropdown-btn");
                var i;

                for (i = 0; i < dropdown.length; i++) {
                    dropdown[i].addEventListener("click", function () {
                        this.classList.toggle("active");
                        var dropdownContent = this.nextElementSibling;
                        if (dropdownContent.style.display === "block") {
                            dropdownContent.style.display = "none";
                        } else {
                            dropdownContent.style.display = "block";
                        }
                    });
                }
            </script>
            <script>
                (function ($) {
                    $(document).ready(function () {

                        $('#cssmenu li.active').addClass('open').children('ul').show();
                        $('#cssmenu li.has-sub>a').on('click', function () {
                            $(this).removeAttr('href');
                            var element = $(this).parent('li');
                            if (element.hasClass('open')) {
                                element.removeClass('open');
                                element.find('li').removeClass('open');
                                element.find('ul').slideUp(200);
                            }
                            else {
                                element.addClass('open');
                                element.children('ul').slideDown(200);
                                element.siblings('li').children('ul').slideUp(200);
                                element.siblings('li').removeClass('open');
                                element.siblings('li').find('li').removeClass('open');
                                element.siblings('li').find('ul').slideUp(200);
                            }
                        });

                    });
                })(jQuery);

            </script>

            <script>
                (function () {
                    // VARS
                    const productsContainer = document.querySelector("#grid");
                    const cartContainer = document.querySelector("#shopping-cart");
                    const cartContent = document.querySelector("#cart-content");
                    const toggleCartBtn = document.querySelector("#toggle-cart-btn");
                    const clearCartBtn = document.querySelector("#clear-cart");
                    const checkoutBtn = document.querySelector("#checkout-btn");
                    const totalPriceContainer = document.querySelector("#total-price");

                    // FUNCTIONS

                    function toggleCart() {
                        // toggle shopping cart visibility
                        cartContainer.classList.toggle("open");
                    }

                    function getLSContent() {
                        // get contents from local storage.
                        // if nothing is there, create an empty array
                        const lsContent = JSON.parse(localStorage.getItem("products")) || [];
                        return lsContent;
                    }

                    function setLSContent(lsContent) {
                        // save content inside local storage
                        localStorage.setItem("products", JSON.stringify(lsContent));
                    }

                    function calculateTotal(prices) {
                        // calculate the total price in the cart
                        return prices.reduce(function (prev, next) {
                            return prev + next;
                        }, 0);
                    }

                    function getCartItemPrices() {
                        // extract the price numbers from the cart items to calculate total
                        const prices = [];
                        // retrieve the td element in the cart where the product price is stored
                        // for each product in the cart
                        let nums = cartContent.querySelectorAll("tr td:nth-child(3)");

                        // iterate over each td node and extract the price
                        // strip the $ sign from the text, turn the string into
                        // a number and push the number into the prices array
                        if (nums.length > 0) {
                            for (let cell = 0; cell < nums.length; cell++) {
                                let num = nums[cell].innerText;
                                num = num.replace(/[^\d]/g, "");
                                num = parseFloat(num);
                                prices.push(num);
                            }
                            // return the prices array
                            return prices;
                        } else {
                            return;
                        }
                    }

                    function displayCartTotal() {
                        // display the total cost in the cart
                        const prices = getCartItemPrices();
                        let total = 0;
                        if (prices) {
                            total = calculateTotal(prices);
                            totalPriceContainer.innerHTML = `<span class="total">Total: ₹${total.toFixed(
                                2
                            )}</span>`;
                        } else {
                            totalPriceContainer.innerHTML = '<span class="total">Total: ₹0</span>';
                        }
                    }

                    function displayProducts() {
                        // display all products in the cart

                        // get contents from local storage
                        const lsContent = getLSContent();

                        let productMarkup = "";
                        var x = 0;
                        document.getElementById("c").innerText = x;
                        // if local storage is not empty, build the
                        // cart items markup and the appropriate details
                        if (lsContent !== null) {

                            for (let product of lsContent) {
                                productMarkup += `
          
            <tr>
            <td><img class="cart-image" src="${product.image}" alt="${product.name
                                    }" width="120"></td>
            <td>
              ${product.name}
            </td>
            <td>${product.price}</td>
            <td><a href="#" data-id="${product.id}" class="remove">X</a></td>
            </tr>
          `;
                                x = x + 1;
                                document.getElementById("c").innerText = x;
                            }
                        } else {
                            // if no content is in local storage, alert user
                            productMarkup = "Your cart is empty.";
                        }
                        // add markup to DOM
                        cartContent.querySelector("tbody").innerHTML = productMarkup;
                    }

                    function saveProduct(clickedBtn) {
                        // save selected product in local storage and display it in the cart together

                        // vars
                        const productId = clickedBtn.getAttribute("data-id");
                        const card = clickedBtn.parentElement.parentElement;
                        const cardInfo = clickedBtn.parentElement;
                        const prodImage = card.querySelector("img").src;
                         const prodName = cardInfo.querySelector("h4").textContent;
                        const prodPrice = cardInfo.querySelector(".card__price").textContent;

                        let isProductInCart = false;

                        // get local storage array
                        const lsContent = getLSContent();

                        // to avoid user adds the same course twice, check
                        // the product is not in LS already before adding it
                        lsContent.forEach(function (product) {
                            if (product.id === productId) {
                                alert("This course is already in your cart.");
                                isProductInCart = true;
                            }
                        });

                        // only if the product is not already in the cart,
                        // create an object representing selected product info
                        // and push it into local storage array
                        if (!isProductInCart) {
                            lsContent.push({
                                id: productId,
                                image: prodImage,
                                name: prodName,
                                price: prodPrice
                            });

                            // add product into into local storage
                            setLSContent(lsContent);
                            // update the display of courses in the shopping cart
                            displayProducts();
                        }
                    }

                    function removeProduct(productId) {
                        // remove product from cart (and from local storage)

                        // retrieve list of products from LS
                        const lsContent = getLSContent();

                        // get the index of the product item to remove
                        // inside the local storage content array
                        let productIndex;
                        lsContent.forEach(function (product, i) {
                            if (product.id === productId) {
                                productIndex = i;
                            }
                        });

                        // modify the items in local storage array
                        // to remove the selected product item

                        lsContent.splice(productIndex, 1);
                        // update local storage content
                        setLSContent(lsContent);

                        displayProducts();
                    }

                    function clearCart() {
                        // clear all products from cart (and local storage)

                        // retrieve list of products from LS
                        const lsContent = getLSContent();
                        // empty array in local storage
                        lsContent.splice(0, lsContent.length);
                        // update local storage
                        setLSContent(lsContent);
                        // display cart content again
                        displayProducts();
                    }

                    function checkout() {
                        // checkout: just clear the cart
                        // after user confirms the checkout process
                        const cartProducts = cartContent.querySelector("tbody").innerHTML;
                        if (cartProducts !== "" && confirm("Are you sure you want to checkout?")) {
                            clearCart();
                        } else {
                            return;
                        }
                    }

                    // BIND EVENTS AND CALL FUNCTIONS

                    // Page load:
                    document.addEventListener("DOMContentLoaded", function (e) {
                        // display list of products in cart, if any, on page load
                        displayProducts();
                        // display cart total
                        displayCartTotal();
                    });

                    // open and close shopping cart
                    // when cart button is clicked
                    toggleCartBtn.addEventListener("click", function (e) {
                        e.preventDefault();
                        toggleCart();
                    });

                    // Save product in cart and Local Storage
                    // when add to cart button is clicked
                    const addToCartBtns = document.querySelectorAll(".add-to-cart");

                    addToCartBtns.forEach(function (btn) {
                        btn.addEventListener("click", function (e) {
                            e.preventDefault();
                            const clickedBtn = e.target;
                            saveProduct(clickedBtn);
                        });
                    });


                    productsContainer.addEventListener("click", function (e) {
                        Array.from(e.target.classList).forEach(function (className) {
                            if (className === "add-to-cart") {
                                console.log(e)
                                displayCartTotal();
                            }
                        });
                    });

                    // bind removeProduct to click event of the cartContent table
                    cartContent.querySelector("tbody").addEventListener("click", function (e) {

                        e.preventDefault();
                        // identify the button that was clicked
                        const clickedBtn = e.target;
                        // if it's a remove button
                        if (e.target.classList.contains("remove")) {
                            // get the value of the data-id property, which contains the
                            // id of the selected product
                            const productId = clickedBtn.getAttribute("data-id");

                            // use the id to remove the selected product
                            removeProduct(productId);
                            // display products in the cart again,
                            // now the list should be displayed with 1 less product
                            // or empty if no products are left in the cart

                            // adjust the total
                            displayCartTotal();
                        }
                    });

                    // bind the button to clear the cart both to the function that
                    // clears the cart and to the function that adjusts the total price
                    clearCartBtn.addEventListener("click", function (e) {
                        e.preventDefault();
                        clearCart();
                    });
                    clearCartBtn.addEventListener("click", displayCartTotal);

                    // bind the button that does the checkout both to the function that
                    // controls the checkout and and to the function that adjusts the total price
                    // checkoutBtn.addEventListener("click", function(e) {
                    //   e.preventDefault();
                    //   checkout();
                    // });
                    checkoutBtn.addEventListener("click", displayCartTotal);
                })();
            </script>

<script>
    const refreshIcon = document.querySelector('.refresh-icon i');
    
    refreshIcon.addEventListener('click', () => {
      location.reload();
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    });
  </script>
  
           
</body>

</html>